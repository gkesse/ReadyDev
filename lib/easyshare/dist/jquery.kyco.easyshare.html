<!--
/*
**
**  jquery.kyco.easyshare
**  =====================
**
**  Version 1.3.3
**
**  Brought to you by
**  https://www.kycosoftware.com
**
**  Copyright 2015 Cornelius Weidmann
**
**  Distributed under the GPL
**
*/
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Demo - kyco.easyShare</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="jquery.kyco.easyshare.css">
</head>
<body>
  <h2>kyco.easyShare</h2>
  <p>Brought to you by <a href="https://www.kycosoftware.com/" target="_blank">www.kycosoftware.com</a>. Copyright 2015 Cornelius Weidmann. Distributed under the GPL.</p>

  <div data-easyshare data-easyshare-url="https://www.kycosoftware.com/">
    <!-- Total -->
    <button data-easyshare-button="total">
      <span>Total</span>
    </button>
    <span data-easyshare-total-count>0</span>

    <!-- Twitter -->
    <button data-easyshare-button="twitter" data-easyshare-tweet-text="" style="margin-right:15px;">
      <span class="fa fa-twitter"></span>
      <span>Tweet</span>
    </button>

    <!-- Facebook -->
    <button data-easyshare-button="facebook">
      <span class="fa fa-facebook"></span>
      <span>Share</span>
    </button>
    <span data-easyshare-button-count="facebook">0</span>

    <!-- Google+ -->
    <button data-easyshare-button="google">
      <span class="fa fa-google-plus"></span>
      <span>+1</span>
    </button>
    <span data-easyshare-button-count="google">0</span>

    <!-- LinkedIn -->
    <button data-easyshare-button="linkedin">
      <span class="fa fa-linkedin"></span>
    </button>
    <span data-easyshare-button-count="linkedin">0</span>

    <!-- Pinterest -->
    <button data-easyshare-button="pinterest">
      <span class="fa fa-pinterest-p"></span>
    </button>
    <span data-easyshare-button-count="pinterest">0</span>

    <!-- Xing -->
    <button data-easyshare-button="xing">
      <span class="fa fa-xing"></span>
    </button>
    <span data-easyshare-button-count="xing">0</span>

    <div data-easyshare-loader>Loading...</div>
  </div>
  <br>

  <strong>Social count load time impact:</strong><br><br>
  <div class="advanced" data-easyshare data-easyshare-url="https://www.kycosoftware.com/">
    <!-- Twitter -->
    <button data-easyshare-button="twitter" data-easyshare-tweet-text="">
      <span class="fa fa-twitter"></span>
      <span>Tweet</span>
    </button>
  </div>
  <br>

  <div class="advanced" data-easyshare data-easyshare-url="https://www.kycosoftware.com/">
    <!-- Facebook -->
    <button data-easyshare-button="facebook">
      <span class="fa fa-facebook"></span>
      <span>Share</span>
    </button>
    <span data-easyshare-button-count="facebook">0</span>
    <div data-easyshare-loader>Loading...</div>
  </div>
  <br>

  <div class="advanced" data-easyshare data-easyshare-url="https://www.kycosoftware.com/">
    <!-- Google+ -->
    <button data-easyshare-button="google">
      <span class="fa fa-google-plus"></span>
      <span>+1</span>
    </button>
    <span data-easyshare-button-count="google">0</span>
    <div data-easyshare-loader>Loading...</div>
  </div>
  <br>

  <div class="advanced" data-easyshare data-easyshare-url="https://www.kycosoftware.com/">
    <!-- LinkedIn -->
    <button data-easyshare-button="linkedin">
      <span class="fa fa-linkedin"></span>
    </button>
    <span data-easyshare-button-count="linkedin">0</span>
    <div data-easyshare-loader>Loading...</div>
  </div>
  <br>

  <div class="advanced" data-easyshare data-easyshare-url="https://www.kycosoftware.com/">
    <!-- Pinterest -->
    <button data-easyshare-button="pinterest">
      <span class="fa fa-pinterest-p"></span>
    </button>
    <span data-easyshare-button-count="pinterest">0</span>
    <div data-easyshare-loader>Loading...</div>
  </div>
  <br>

  <div class="advanced" data-easyshare data-easyshare-url="https://www.kycosoftware.com/">
    <!-- Xing -->
    <button data-easyshare-button="xing">
      <span class="fa fa-xing"></span>
    </button>
    <span data-easyshare-button-count="xing">0</span>
    <div data-easyshare-loader>Loading...</div>
  </div>

  <script src="jquery-1.11.3.min.js"></script>
  <script>
    $.each($('.advanced [data-easyshare-button-count] + [data-easyshare-loader]'), function(i, e) {
      var el        = $(e);
      var done      = false;
      var attr      = el.prev().attr('data-easyshare-button-count')
      var target    = document.querySelector('.advanced [data-easyshare-button-count="' + attr + '"] + [data-easyshare-loader]');
      var startDate = new Date().getTime() / 1000;
      var endDate;

      var observer = new MutationObserver(function(mutations) {
        if (!done) {
          done = true;
          endDate = new Date().getTime() / 1000;
          el.after('Loaded in roughly ', (endDate - startDate).toFixed(2), 's');
        }
      });

      observer.observe(target, {
        attributes: true
      });
    });
  </script>
  <script src="jquery.kyco.easyshare.js"></script>
</body>
</html>
